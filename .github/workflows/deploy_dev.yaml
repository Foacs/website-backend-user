on:
  workflow_dispatch:
    inputs:
      region:
        description: AWS Region to deploy to
        required: true
        default: 'eu-west-3'
      api_id:
        description: ARN of the API
        required: true

name: deploy development

run-name: Deploy to development env by @${{ github.actor }}

env:
  ENV_NAME: development

jobs:
  build:
    uses: Foacs/website-backend-user/.github/workflows/build.yaml@main

  deploy:
    uses: Foacs/website-backend-user/.github/workflows/deploy.yaml@main
    with:
      environment: ${{ env.ENV_NAME }}
      region: ${{ inputs.region }}
      api_id: ${{ inputs.api_id }}
    secrets: inherit
